{"ast":null,"code":"var _jsxFileName = \"D:\\\\prog\\\\files\\\\shop\\\\client\\\\src\\\\components\\\\Checkout\\\\Checkout.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport * as actions from '../../actions/actions';\nimport { inputValueHandle } from '../../actions/inputCodeAction';\nimport './Checkout.scss';\n\nclass Checkout extends Component {\n  constructor(...args) {\n    super(...args);\n\n    this.componentWillUnmount = () => {\n      if (this.refs.shipping.checked) {\n        this.props.substractShipping();\n      }\n    };\n\n    this.handleChecked = e => {\n      if (e.target.checked) {\n        this.props.addShipping();\n\n        if (window.location.href.indexOf('cart') > -1 && this.props.addedItems.length > 0) {\n          alert(\"Try our discount code: CODE10%\");\n        }\n      } else {\n        this.props.substractShipping();\n      }\n    };\n\n    this.handleChange = event => {\n      this.props.inputValueHandle(event.target.value);\n    };\n\n    this.handleCode = e => {\n      e.preventDefault();\n\n      if (this.props.total === 0 || this.props.total === 3.99) {\n        alert(\"NOTHING TO DISCOUNT !\");\n      } else if (this.props.text === \"CODE10%\") {\n        const icons = document.querySelectorAll('.discount-handle');\n\n        for (var item of icons) {\n          item.classList.toggle(\"invisible\");\n        }\n\n        document.getElementById('code-input').disabled = true;\n        document.getElementById(\"discount-message\").classList.toggle(\"hide\");\n        this.props.discountHandle();\n      } else {\n        alert('INVALID CODE');\n      }\n    };\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"checkout-component container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      onSubmit: this.handleCode,\n      className: \"checkout-code\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      id: \"code-input\",\n      type: \"text\",\n      placeholder: \"Enter code\",\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      className: \"apply-btn btn\",\n      type: \"submit\",\n      value: \"Apply\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    })), React.createElement(\"li\", {\n      className: \"hide discount\",\n      id: \"discount-message\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, \"YOUR 10% DISCOUNT APPLIED\"), React.createElement(\"li\", {\n      className: \"checkout-shipping\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      id: \"shipping-checkbox\",\n      type: \"checkbox\",\n      ref: \"shipping\",\n      onChange: this.handleChecked,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }), \"Shipping (+ 15.00 \\xA3)\")), React.createElement(\"li\", {\n      className: \"checkout-total\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, \"Total: \", this.props.total, \"  \\xA3\"), React.createElement(\"button\", {\n      onClick: () => {\n        window.location.href = 'https://www.paypal.com/signin';\n      },\n      className: \"checkout-btn\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, \"Checkout\"));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    addedItems: state.itemsReducers.addedItems,\n    total: state.itemsReducers.total,\n    text: state.inputCodeReducers.text\n  };\n};\n\nconst mapDispatchToProps = { ...actions,\n  inputValueHandle\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(Checkout);","map":{"version":3,"sources":["D:/prog/files/shop/client/src/components/Checkout/Checkout.js"],"names":["React","Component","connect","actions","inputValueHandle","Checkout","componentWillUnmount","refs","shipping","checked","props","substractShipping","handleChecked","e","target","addShipping","window","location","href","indexOf","addedItems","length","alert","handleChange","event","value","handleCode","preventDefault","total","text","icons","document","querySelectorAll","item","classList","toggle","getElementById","disabled","discountHandle","render","mapStateToProps","state","itemsReducers","inputCodeReducers","mapDispatchToProps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport * as actions from '../../actions/actions';\r\nimport { inputValueHandle } from '../../actions/inputCodeAction';\r\nimport './Checkout.scss'\r\n\r\nclass Checkout extends Component {\r\n\r\n    componentWillUnmount = () => {\r\n        if (this.refs.shipping.checked) {\r\n            this.props.substractShipping();\r\n        }\r\n    }\r\n\r\n    handleChecked = e => {\r\n        if (e.target.checked) {\r\n            this.props.addShipping();\r\n            if ((window.location.href.indexOf('cart') > -1) && this.props.addedItems.length > 0) {\r\n                alert(\"Try our discount code: CODE10%\");\r\n            }\r\n        }\r\n        else {\r\n            this.props.substractShipping();\r\n        }\r\n    }\r\n\r\n    handleChange = event => {\r\n        this.props.inputValueHandle(event.target.value);\r\n    }\r\n\r\n    handleCode = e => {\r\n        e.preventDefault();\r\n        if (this.props.total === 0 || this.props.total === 3.99) {\r\n            alert(\"NOTHING TO DISCOUNT !\");\r\n        }\r\n        else if (this.props.text === \"CODE10%\") {\r\n            const icons = document.querySelectorAll('.discount-handle');\r\n            for (var item of icons) {\r\n                item.classList.toggle(\"invisible\");\r\n            }\r\n            document.getElementById('code-input').disabled = true;\r\n            document.getElementById(\"discount-message\").classList.toggle(\"hide\");\r\n            this.props.discountHandle();\r\n        } else {\r\n            alert('INVALID CODE');\r\n        }\r\n    }\r\n\r\n    render() {\r\n\r\n        return (\r\n            <div className=\"checkout-component container\">\r\n                <form onSubmit={this.handleCode} className='checkout-code'>\r\n                    <input id=\"code-input\" type=\"text\" placeholder='Enter code' onChange={this.handleChange} />\r\n                    <input className=\"apply-btn btn\" type=\"submit\" value=\"Apply\" />\r\n                </form>\r\n                <li className=\"hide discount\" id=\"discount-message\">YOUR 10% DISCOUNT APPLIED</li>\r\n                <li className=\"checkout-shipping\">\r\n                    <label>\r\n                        <input id=\"shipping-checkbox\" type=\"checkbox\" ref=\"shipping\" onChange={this.handleChecked} />\r\n                        Shipping (+ 15.00 £)\r\n                    </label>\r\n                </li>\r\n                <li className=\"checkout-total\">Total: {this.props.total}  £</li>\r\n                <button onClick={() => { window.location.href = 'https://www.paypal.com/signin'; }} className=\"checkout-btn\">Checkout</button>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        addedItems: state.itemsReducers.addedItems,\r\n        total: state.itemsReducers.total,\r\n        text: state.inputCodeReducers.text\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    ...actions,\r\n    inputValueHandle\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Checkout)"]},"metadata":{},"sourceType":"module"}