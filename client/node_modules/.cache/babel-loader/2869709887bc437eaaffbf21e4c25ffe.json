{"ast":null,"code":"var _jsxFileName = \"D:\\\\prog\\\\files\\\\shop\\\\client\\\\src\\\\components\\\\ProductsList\\\\ProductsList.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { loadProductsRequest, addToCart, passID, setPage } from '../../actions/actions';\nimport Pulse from 'react-reveal/Pulse';\nimport { Link } from 'react-router-dom';\nimport './ProductsList.scss';\nimport { Button, ButtonGroup } from 'reactstrap';\nimport { faArrowLeft, faArrowRight } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\n\nclass ProductsList extends Component {\n  constructor(...args) {\n    super(...args);\n\n    this.handleClick = id => {\n      this.props.addToCart(id);\n    };\n\n    this.handleId = id => {\n      this.props.passID(id);\n    };\n\n    this.handlePage = value => e => {\n      let id = e.target.id;\n      this.props.setPage(id);\n    };\n  }\n\n  componentDidMount() {\n    this.props.loadProducts();\n  }\n\n  render() {\n    const dataset = this.props.items;\n    const pageSet = this.props.page;\n    const offset = (pageSet - 1) * 6;\n    const paginatedItems = dataset.slice(offset).slice(0, 6);\n    const pages = Math.ceil(dataset.length / 6);\n    const pageNumbers = Array.from({\n      length: pages\n    }, (x, page) => ++page);\n\n    this.componentDidUpdate = () => {\n      if (pageSet === pageNumbers.length) {\n        document.getElementById('right').classList.remove('showy');\n      } else {\n        document.getElementById('right').classList.add('showy');\n      }\n\n      if (pageSet === pageNumbers[0]) {\n        document.getElementById('left').classList.remove('showy');\n      } else {\n        document.getElementById('left').classList.add('showy');\n      }\n    };\n\n    return React.createElement(Pulse, {\n      cascade: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"products-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, paginatedItems.map(item => React.createElement(\"div\", {\n      className: \"card\",\n      key: item.id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"card-image\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      className: \"add-to-cart-button\",\n      onClick: () => {\n        this.handleClick(item.id);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, \"Add to Cart\"), React.createElement(Link, {\n      to: \"/product\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: item.img,\n      alt: item.title,\n      onClick: () => {\n        this.handleId(item.id);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }))), React.createElement(\"h6\", {\n      className: \"card-title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, item.title), React.createElement(\"p\", {\n      className: \"card-price\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, \"Price: \", item.price, \" \\xA3\"))), React.createElement(\"div\", {\n      className: \"paginator\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, React.createElement(FontAwesomeIcon, {\n      className: \"arrow \",\n      id: \"left\",\n      onClick: this.handlePage(this.id),\n      icon: faArrowLeft,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }), pageNumbers.map(id => {\n      return React.createElement(ButtonGroup, {\n        key: id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, React.createElement(Button, {\n        className: \"but\",\n        id: id,\n        key: id,\n        onClick: this.handlePage(id),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, id));\n    }), React.createElement(FontAwesomeIcon, {\n      className: \"arrow showy\",\n      id: \"right\",\n      onClick: this.handlePage(this.id),\n      icon: faArrowRight,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }))));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    page: state.itemsReducers.page,\n    items: state.itemsReducers.items,\n    itemsTemplate: state.itemsReducers.itemsTemplate\n  };\n};\n\nconst mapDispatchToProps = dispatch => ({\n  addToCart: id => dispatch(addToCart(id)),\n  passID: id => dispatch(passID(id)),\n  setPage: id => dispatch(setPage(id)),\n  loadProducts: () => dispatch(loadProductsRequest())\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ProductsList);","map":{"version":3,"sources":["D:/prog/files/shop/client/src/components/ProductsList/ProductsList.js"],"names":["React","Component","connect","loadProductsRequest","addToCart","passID","setPage","Pulse","Link","Button","ButtonGroup","faArrowLeft","faArrowRight","FontAwesomeIcon","ProductsList","handleClick","id","props","handleId","handlePage","value","e","target","componentDidMount","loadProducts","render","dataset","items","pageSet","page","offset","paginatedItems","slice","pages","Math","ceil","length","pageNumbers","Array","from","x","componentDidUpdate","document","getElementById","classList","remove","add","map","item","img","title","price","mapStateToProps","state","itemsReducers","itemsTemplate","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { loadProductsRequest, addToCart, passID, setPage } from '../../actions/actions';\r\nimport Pulse from 'react-reveal/Pulse';\r\nimport { Link } from 'react-router-dom';\r\nimport './ProductsList.scss';\r\nimport { Button, ButtonGroup } from 'reactstrap';\r\nimport { faArrowLeft, faArrowRight } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\n\r\nclass ProductsList extends Component {\r\n\r\n  componentDidMount() {\r\n    this.props.loadProducts();\r\n  }\r\n\r\n  handleClick = id => {\r\n    this.props.addToCart(id);\r\n  }\r\n\r\n  handleId = id => {\r\n    this.props.passID(id);\r\n  }\r\n\r\n  handlePage = value => e => {\r\n    let id = e.target.id;\r\n    this.props.setPage(id);\r\n  }\r\n\r\n  render() {\r\n\r\n    const dataset = this.props.items;\r\n    const pageSet = this.props.page;\r\n    const offset = (pageSet - 1) * 6\r\n    const paginatedItems = dataset.slice(offset).slice(0, 6)\r\n    const pages = Math.ceil(dataset.length / 6);\r\n    const pageNumbers = Array.from({ length: pages }, (x, page) => ++page);\r\n\r\n    this.componentDidUpdate = () => {\r\n\r\n      if (pageSet === pageNumbers.length) {\r\n        document.getElementById('right').classList.remove('showy');\r\n      } else {\r\n        document.getElementById('right').classList.add('showy');\r\n      }\r\n      if (pageSet === pageNumbers[0]) {\r\n        document.getElementById('left').classList.remove('showy');\r\n      } else {\r\n        document.getElementById('left').classList.add('showy');\r\n      }\r\n    }\r\n\r\n    return (\r\n\r\n      <Pulse cascade>\r\n        <div className=\"products-container\">\r\n\r\n          {paginatedItems.map((item) => (\r\n            <div className=\"card\" key={item.id}>\r\n              <div className=\"card-image\">\r\n                <button className=\"add-to-cart-button\" onClick={() => { this.handleClick(item.id) }}>Add to Cart</button>\r\n                <Link to=\"/product\">\r\n                  <img src={item.img} alt={item.title} onClick={() => { this.handleId(item.id) }} />\r\n                </Link>\r\n              </div>\r\n              <h6 className=\"card-title\">{item.title}</h6>\r\n              <p className=\"card-price\">Price: {item.price} £</p>\r\n            </div>\r\n          ))}\r\n\r\n          <div className=\"paginator\">\r\n            <FontAwesomeIcon className=\"arrow \" id=\"left\" onClick={this.handlePage(this.id)} icon={faArrowLeft} />\r\n            {pageNumbers.map(id => {\r\n              return (\r\n                <ButtonGroup key={id}>\r\n                  <Button className=\"but\" id={id} key={id} onClick={this.handlePage(id)}>{id}</Button>\r\n                </ButtonGroup>\r\n              );\r\n            })}\r\n            <FontAwesomeIcon className=\"arrow showy\" id=\"right\" onClick={this.handlePage(this.id)} icon={faArrowRight} />\r\n          </div>\r\n\r\n        </div>\r\n      </Pulse>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    page: state.itemsReducers.page,\r\n    items: state.itemsReducers.items,\r\n    itemsTemplate: state.itemsReducers.itemsTemplate,\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  addToCart: id => dispatch(addToCart(id)),\r\n  passID: id => dispatch(passID(id)),\r\n  setPage: id => dispatch(setPage(id)),\r\n  loadProducts: () => dispatch(loadProductsRequest()),\r\n})\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ProductsList)"]},"metadata":{},"sourceType":"module"}